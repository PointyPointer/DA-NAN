 <!DOCTYPE html>
<html>
<head>
	<title>Log in</title>
</head>
<body>

	<h1>Welcome to PotatoDB :)</h1>
	<div>
		User Name<br>
		<input id="un"type="text" name="userName"><br>
		Password<br>
		<input id="pw"type="password" name="passwd"><br>
		<button onclick="submit()">Submit</button>
		<button onclick="signin()">Sign up</button><br>
	</div>
</body>
<script>
	function signin() {
		window.location.href = "/signup.html"
	}

	function submit() {
		var xmlDocument
		var xhr = new XMLHttpRequest()
		console.log(xhr)
		xhr.open("POST","http://testmaskin:1337/login",true)
		xhr.withCredentials = true
		xhr.setRequestHeader("Content-type","text/xml")

		username = document.getElementById("un").value
		passwd = document.getElementById("pw").value
		xmlDocument = "<user><username>" + username + "</username><password>" + passwd + "</password></user>"
		console.log(xmlDocument)		
		xhr.send(xmlDocument)
		xhr.onreadystatechange = function() { 
			if (xhr.readyState === 4 && xhr.status === 200) {
        		//window.location.href = "/index.html"
			}
		}
	}
</script>
</html> 
